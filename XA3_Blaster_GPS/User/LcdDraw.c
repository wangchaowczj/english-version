#include "includes.h"
#include "LcdDraw.h"
//#include "char8_16.h"
//#include "hz16_16.h"
//#include "char12_24.h"
#include "hz24_24.h"
#include "image.h"
#include "closejpg.h"
#include "ironimage.h"

LCD_FONT LcdFont;
LCD_STATE LcdState;


//==================================================================================================
//| 函数名称 | CLcd_SetFontState
//|----------|--------------------------------------------------------------------------------------
//| 函数功能 | 设置字体显示方式
//|----------|--------------------------------------------------------------------------------------
//| 输入参数 | state：NORMAL_MODE-不刷新背景色		REVERSE_MODE-刷新背景色
//|----------|--------------------------------------------------------------------------------------
//| 返回参数 | 无
//|----------|--------------------------------------------------------------------------------------
//| 函数设计 | 编写人：          时间：2013-04-17
//|----------|--------------------------------------------------------------------------------------
//|   备注   | 
//|----------|--------------------------------------------------------------------------------------
//| 修改记录 | 修改人：          时间：         修改内容：
//==================================================================================================
void LcdSetFontState(LCDREVERSE state)
{
	LcdState.BackCoState = state;
}

//==================================================================================================
//| 函数名称 | CLcd_GetFontState
//|----------|--------------------------------------------------------------------------------------
//| 函数功能 | 获取字体显示方式
//|----------|--------------------------------------------------------------------------------------
//| 输入参数 | 无
//|----------|--------------------------------------------------------------------------------------
//| 返回参数 | NORMAL_MODE-不刷新背景色		REVERSE_MODE-刷新背景色
//|----------|--------------------------------------------------------------------------------------
//| 函数设计 | 编写人：          时间：2013-04-17
//|----------|--------------------------------------------------------------------------------------
//|   备注   | 
//|----------|--------------------------------------------------------------------------------------
//| 修改记录 | 修改人：          时间：         修改内容：
//==================================================================================================
LCDREVERSE LcdGetFontState(void)
{
	return LcdState.BackCoState;
}

//==================================================================================================
//| 函数名称 | CLcd_SetFrontBackColor
//|----------|--------------------------------------------------------------------------------------
//| 函数功能 | 显示前景色和背景色
//|----------|--------------------------------------------------------------------------------------
//| 输入参数 | Front：前景色		Back：背景色
//|----------|--------------------------------------------------------------------------------------
//| 返回参数 | 无
//|----------|--------------------------------------------------------------------------------------
//| 函数设计 | 编写人：          时间：2013-04-17
//|----------|--------------------------------------------------------------------------------------
//|   备注   | 
//|----------|--------------------------------------------------------------------------------------
//| 修改记录 | 修改人：          时间：         修改内容：
//==================================================================================================
void LcdSetFrontBackColor(u16 Front, u16 Back)
{
	LcdState.FrontColor = Front;
	LcdState.BackColor = Back;
}

//==================================================================================================
//| 函数名称 | CLcd_GetFrontColor
//|----------|--------------------------------------------------------------------------------------
//| 函数功能 | 获取前景色
//|----------|--------------------------------------------------------------------------------------
//| 输入参数 | 无
//|----------|--------------------------------------------------------------------------------------
//| 返回参数 | 前景色
//|----------|--------------------------------------------------------------------------------------
//| 函数设计 | 编写人：          时间：2013-04-17
//|----------|--------------------------------------------------------------------------------------
//|   备注   | 
//|----------|--------------------------------------------------------------------------------------
//| 修改记录 | 修改人：          时间：         修改内容：
//==================================================================================================
u16 LcdGetFrontColor(void)
{
	return LcdState.FrontColor;
}

//==================================================================================================
//| 函数名称 | CLcd_GetBackColor
//|----------|--------------------------------------------------------------------------------------
//| 函数功能 | 获取背景色
//|----------|--------------------------------------------------------------------------------------
//| 输入参数 | 无
//|----------|--------------------------------------------------------------------------------------
//| 返回参数 | 背景色
//|----------|--------------------------------------------------------------------------------------
//| 函数设计 | 编写人：          时间：2013-04-17
//|----------|--------------------------------------------------------------------------------------
//|   备注   | 
//|----------|--------------------------------------------------------------------------------------
//| 修改记录 | 修改人：          时间：         修改内容：
//==================================================================================================
u16 LcdGetBackColor(void)
{
	return LcdState.BackColor;
}

//==================================================================================================
//| 函数名称 | CLcd_SetFont
//|----------|--------------------------------------------------------------------------------------
//| 函数功能 | 设置显示字体
//|----------|--------------------------------------------------------------------------------------
//| 输入参数 | state：字体
//|----------|--------------------------------------------------------------------------------------
//| 返回参数 | 无
//|----------|--------------------------------------------------------------------------------------
//| 函数设计 | 编写人：          时间：2013-04-17
//|----------|--------------------------------------------------------------------------------------
//|   备注   | 
//|----------|--------------------------------------------------------------------------------------
//| 修改记录 | 修改人：          时间：         修改内容：
//==================================================================================================
void LcdSetFont(LCDFONT state)
{
	LcdState.Font = state;
	switch (LcdState.Font)
	{
		case FONT_16:
			LcdFont.CWidth = FONT16_CWIDTH;
			LcdFont.CHigh = FONT16_CHIGH;
			LcdFont.Clenth = FONT16_CLEN;
			LcdFont.HWidth = FONT16_HWIDTH;
			LcdFont.HHigh = FONT16_HHIGH;
			LcdFont.Hlenth = FONT16_HLEN;
			break;
		case FONT_24:
			LcdFont.CWidth = FONT24_CWIDTH;
			LcdFont.CHigh = FONT24_CHIGH;
			LcdFont.Clenth = FONT24_CLEN;
			LcdFont.HWidth = FONT24_HWIDTH;
			LcdFont.HHigh = FONT24_HHIGH;
			LcdFont.Hlenth = FONT24_HLEN;
			break;
	}
}

//==================================================================================================
//| 函数名称 | CLcd_GetFont
//|----------|--------------------------------------------------------------------------------------
//| 函数功能 | 获取显示字体
//|----------|--------------------------------------------------------------------------------------
//| 输入参数 | 无
//|----------|--------------------------------------------------------------------------------------
//| 返回参数 | 字体
//|----------|--------------------------------------------------------------------------------------
//| 函数设计 | 编写人：          时间：2013-04-17
//|----------|--------------------------------------------------------------------------------------
//|   备注   | 
//|----------|--------------------------------------------------------------------------------------
//| 修改记录 | 修改人：          时间：         修改内容：
//==================================================================================================
LCDFONT LcdGetFont(void)
{
	return LcdState.Font;
}

//==================================================================================================
//| 函数名称 | CLcd_DrawLine_H
//|----------|--------------------------------------------------------------------------------------
//| 函数功能 | 绘制一条横线
//|----------|--------------------------------------------------------------------------------------
//| 输入参数 | xSAddr：X轴起始坐标		xEAddr：X轴结束坐标
//|          | yAddr：Y轴坐标
//|          | Color：以该颜色填充
//|----------|--------------------------------------------------------------------------------------
//| 返回参数 | 0：成功		1：起始坐标大于结束坐标		2：坐标值超出范围
//|----------|--------------------------------------------------------------------------------------
//| 函数设计 | 编写人：          时间：2013-04-17
//|----------|--------------------------------------------------------------------------------------
//|   备注   | 
//|----------|--------------------------------------------------------------------------------------
//| 修改记录 | 修改人：          时间：         修改内容：
//==================================================================================================
u8 LcdDrawLine_H(u16 xSAddr, u16 xEAddr, u16 yAddr, u16 Color)
{
	u8 state;

	state = Lcd_ClearPart(xSAddr, yAddr, xEAddr, yAddr, Color);
	return state;
}

//==================================================================================================
//| 函数名称 | CLcd_DrawLine_S
//|----------|--------------------------------------------------------------------------------------
//| 函数功能 | 绘制一条竖线
//|----------|--------------------------------------------------------------------------------------
//| 输入参数 | xAddr：X轴坐标
//|          | ySAddr：Y轴起始坐标		yEAddr：Y轴结束坐标
//|          | Color：以该颜色填充
//|----------|--------------------------------------------------------------------------------------
//| 返回参数 | 0：成功		1：起始坐标大于结束坐标		2：坐标值超出范围
//|----------|--------------------------------------------------------------------------------------
//| 函数设计 | 编写人：          时间：2013-04-17
//|----------|--------------------------------------------------------------------------------------
//|   备注   | 
//|----------|--------------------------------------------------------------------------------------
//| 修改记录 | 修改人：          时间：         修改内容：
//==================================================================================================
u8 LcdDrawLine_S(u16 xAddr, u16 ySAddr, u16 yEAddr, u16 Color)
{
	u8 state;

	state = Lcd_ClearPart(xAddr, ySAddr, xAddr, yEAddr, Color);
	return state;
}

//==================================================================================================
//| 函数名称 | CLcd_DrawRectangle
//|----------|--------------------------------------------------------------------------------------
//| 函数功能 | 绘制一个空心矩形
//|----------|--------------------------------------------------------------------------------------
//| 输入参数 | xSAddr：X轴起始坐标		xEAddr：X轴结束坐标
//|          | ySAddr：Y轴起始坐标		yEAddr：Y轴结束坐标
//|          | Color：以该颜色填充
//|----------|--------------------------------------------------------------------------------------
//| 返回参数 | 0：成功		1：起始坐标大于结束坐标		2：坐标值超出范围
//|----------|--------------------------------------------------------------------------------------
//| 函数设计 | 编写人：          时间：2013-04-17
//|----------|--------------------------------------------------------------------------------------
//|   备注   | 
//|----------|--------------------------------------------------------------------------------------
//| 修改记录 | 修改人：          时间：         修改内容：
//==================================================================================================
u8 LcdDrawRectangle(u16 xSAddr, u16 ySAddr, u16 xEAddr, u16 yEAddr, u16 Color)
{
	u8 state = 0;

	state |= Lcd_ClearPart(xSAddr,ySAddr,xEAddr,ySAddr,Color);		//画两条横线
	state |= Lcd_ClearPart(xSAddr,yEAddr,xEAddr,yEAddr,Color);
	state |= Lcd_ClearPart(xSAddr,ySAddr,xSAddr,yEAddr,Color);		//画两条竖线
	state |= Lcd_ClearPart(xEAddr,ySAddr,xEAddr,yEAddr,Color);
	return state;
}

//==================================================================================================
//| 函数名称 | CLcd_DrawFillRect
//|----------|--------------------------------------------------------------------------------------
//| 函数功能 | 绘制一个填充矩形
//|----------|--------------------------------------------------------------------------------------
//| 输入参数 | xSAddr：X轴起始坐标		xEAddr：X轴结束坐标
//|          | ySAddr：Y轴起始坐标		yEAddr：Y轴结束坐标
//|          | Color：以该颜色填充
//|----------|--------------------------------------------------------------------------------------
//| 返回参数 | 0：成功		1：起始坐标大于结束坐标		2：坐标值超出范围
//|----------|--------------------------------------------------------------------------------------
//| 函数设计 | 编写人：          时间：2013-04-17
//|----------|--------------------------------------------------------------------------------------
//|   备注   | 
//|----------|--------------------------------------------------------------------------------------
//| 修改记录 | 修改人：          时间：         修改内容：
//==================================================================================================
u8 LcdDrawFillRect(u16 xSAddr, u16 ySAddr, u16 xEAddr, u16 yEAddr, u16 Color)
{
	u8 state;

	state = Lcd_ClearPart(xSAddr, ySAddr, xEAddr, yEAddr, Color);
	return state;
}


//==================================================================================================
//| 函数名称 | CLcd_DrawString
//|----------|--------------------------------------------------------------------------------------
//| 函数功能 | 绘制一张图片
//|----------|--------------------------------------------------------------------------------------
//| 输入参数 | xSAddr：X轴起始坐标		xEAddr：X轴结束坐标
//|          | ySAddr：Y轴起始坐标		yEAddr：Y轴结束坐标
//|          | ShowBuf：显示内容
//|----------|--------------------------------------------------------------------------------------
//| 返回参数 | 0：成功		1：起始坐标大于结束坐标		2：坐标值超出范围
//|----------|--------------------------------------------------------------------------------------
//| 函数设计 | 编写人：          时间：2013-04-17
//|----------|--------------------------------------------------------------------------------------
//|   备注   | 
//|----------|--------------------------------------------------------------------------------------
//| 修改记录 | 修改人：          时间：         修改内容：
//==================================================================================================
u8 LcdDrawPicture(u16 xSAddr, u16 ySAddr, u16 xEAddr, u16 yEAddr, u8 *ShowBuf)
{
	u8 state;

	state = Lcd_8Bit_WriteData(xSAddr,ySAddr,xEAddr,yEAddr,ShowBuf);
	return state;
}


void LcdShowImage(u16 x0, u16 y0, u16 x1, u16 y1, u8* ptr)
{
	Lcd_8Bit_WriteData(x0,y0,x1,y1, ptr);
}

void LcdShowImage1(void)
{
	u16 xsaddr,ysaddr,xeaddr,yeaddr;

	xsaddr = (LCDP_MAX_X-JPG_WEITH)/2;
	ysaddr = (LCDP_MAX_Y-JPG_HIGH)/2;
	xeaddr = xsaddr+JPG_WEITH-1;
	yeaddr = ysaddr+JPG_HIGH-1;

	Lcd_8Bit_WriteData(xsaddr,ysaddr,xeaddr,yeaddr,(u8 *)gImage_LOGO16);
}
void LcdShowCloseImage(void)
{
	u16 xsaddr,ysaddr,xeaddr,yeaddr;

	xsaddr = (LCDP_MAX_X-CJPG_WEITH)/2;
	ysaddr = (LCDP_MAX_Y-CJPG_HIGH)/2;
	xeaddr = xsaddr+CJPG_WEITH-1;
	yeaddr = ysaddr+CJPG_HIGH-1;

	Lcd_8Bit_WriteData(xsaddr,ysaddr,xeaddr,yeaddr,(u8 *)closeImage_LOGO16);
}

void LcdShowIronImage(u16 x, u16 y, u16 xlen, u16 ylen, u8 state)
{
	u16 xsaddr,ysaddr,xeaddr,yeaddr;
	u8 *p;

	xsaddr = x;
	ysaddr = y;

	switch (state)
	{
		case 1:
			xsaddr = x+((xlen-IRON1_WEITH)/2);
			ysaddr = y+((ylen-IRON1_HIGH)/2);
			xeaddr = xsaddr+IRON1_WEITH-1;
			yeaddr = ysaddr+IRON1_HIGH-1;
			p = (u8 *)IronImage_1;
			break;
		case 2:
			xsaddr = x+((xlen-IRON2_WEITH)/2);
			ysaddr = y+((ylen-IRON2_HIGH)/2);
			xeaddr = xsaddr+IRON2_WEITH-1;
			yeaddr = ysaddr+IRON2_HIGH-1;
			p = (u8 *)IronImage_2;
			break;
		case 3:
			xsaddr = x+((xlen-IRON3_WEITH)/2);
			ysaddr = y+((ylen-IRON3_HIGH)/2);
			xeaddr = xsaddr+IRON3_WEITH-1;
			yeaddr = ysaddr+IRON3_HIGH-1;
			p = (u8 *)IronImage_3;
			break;
		case 4:
			xsaddr = x+((xlen-IRON4_WEITH)/2);
			ysaddr = y+((ylen-IRON4_HIGH)/2);
			xeaddr = xsaddr+IRON4_WEITH-1;
			yeaddr = ysaddr+IRON4_HIGH-1;
			p = (u8 *)IronImage_4;
			break;
		case 5:
			xsaddr = x+((xlen-IRON5_WEITH)/2);
			ysaddr = y+((ylen-IRON5_HIGH)/2);
			xeaddr = xsaddr+IRON5_WEITH-1;
			yeaddr = ysaddr+IRON5_HIGH-1;
			p = (u8 *)IronImage_5;
			break;
		case 6:
			xsaddr = x+((xlen-IRON6_WEITH)/2);
			ysaddr = y+((ylen-IRON6_HIGH)/2);
			xeaddr = xsaddr+IRON6_WEITH-1;
			yeaddr = ysaddr+IRON6_HIGH-1;
			p = (u8 *)IronImage_6;
			break;
		default:
			return;
	}

	Lcd_8Bit_WriteData(xsaddr,ysaddr,xeaddr,yeaddr,p);
}






