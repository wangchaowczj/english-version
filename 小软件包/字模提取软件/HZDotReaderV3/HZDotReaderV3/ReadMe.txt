HZDotReader3.0:

    新增从文本文件输入字符功能，可以为您所要显示的文件生成专用小字库，免除字符一个个输入的麻烦。
    新增HEX文件输出功能，解决二进制输出时保留区域的填充所带来的问题。
把2.0版的重码自动删除功能改为该功能可选，以适应某些特殊应用。要允许重码输入请在设置菜单，文件输出设定中去除重码自动去除项。
    新增中英文混合输出功能，该功能把二个半角字符作为一个汉字取模，如半角字符为单个，在其后自动插入一个空格。在混合输出状态下，不能去除重码。如从文本文件输入，则自动去除回车和换行控制符。需要混合输出请点击设置，取模字体菜单，在弹出的对话框中选中中英文混合输出项。该项功能使软件所取的字模文件用二进制输出后可直接用于大屏的显示。

    新增对英文字模的常量定义，解决少量字符的大点阵专用字库字符定位问题，英文字符常量格式为：字头“CHAR_”加ASII十六进制内码，如字母“Z”为 “CHAR_5A”。

    新增码表生成功能，可从菜单“输出设定”项中设定使用码表或使用汉字常量检索字符在点阵中的位置，在选中生成字符码表后，系统输出时生成字库的内码列表，应用时，先检索字符在码表中的位置，再根据字符的位置计算该字符在点阵中的位置，可解决在C51中汉字常量无法应用于字符串的问题（C51语法把汉字常量认定是西文字符串）。产生的内码列表在汉字取模状态下A51格式为标号：HZ_INDEX，C51格式为常量数组：hzIndex[]；在英文取模状态下A51格式为标号：CHAR_INDEX，C51格式为常量数组：charIndex[]。在产生字符码表的同时A51模式下生产一个代表字符总数的常量HZ_NUM或CHAR_NUM，而在C51输出模式下相应的常量则为：hzNum或charNum。

    更改菜单名,更好地体现菜单的功能,原“字体设定”改为“取模字体”，原“字符取点设定”改为“取模方式”，原“文件输出设定”改为“输出设置”。

    更正2.0版在点阵不为8的倍数，且纵向点取字时，对点阵进行编辑产生错误，更改某些状态下生成的字库不能重新打开编辑的错误。

    如发现新的错误，敬请与作者联系。

    升级请直接替换HZDotReader.exe和本文件(ReadMe.txt)，注册用户注册号不变。

 
                                                             朱思荣
                                                           2004. 6. 5


HZDotReader2.0:

    HZDotReaderV2.0是一款汉字和英文点阵提取软件，它既可以从已有的汉字或英文点阵字库中提取点阵，也支持从WINDOWS字库中提取点阵，在使用WINDOWS字库提取点阵时，支持任意大小点阵，支持GBK字符集中的所有汉字。本软件在对点阵取点方式上较1.0版也有的改进，可支持几乎所有的取点方式。为方便使用，特设了汉字批量输入功能，与输出二进制文件功能，可直接生成国际汉字一级字库。可直接生成ASCII显示字库。由于从WINDOWS字库生成汉字时，某些字在字形上可能有所欠缺，特别加入了点阵编辑功能，还增加了造字功能，可用造字功能以显示汉字的方式显示特定图象。

   在输入汉字以前，请先根据你的需要，通过字体设定菜单，设置汉字字体，当需要设置非标点阵时，可直接对字体大小进行编辑(不要动中间的“×”号)。通过字符取点设定菜单，设置点阵取点格式，通过文件输出设定菜单，设定输出文件格式和常量定义格式。

   在屏幕显示区域单击鼠标右键，则鼠标所指的汉字变为选中状态，通过编辑-删除菜单即可删除当前选中的汉字，通过编辑-编辑点阵菜单，即可对当前选中的汉字点阵进行编辑，也可通过双击鼠标左键，直接编辑鼠标所指区域的汉字。编辑完后的汉字可直接保存，也可另存为自定义汉字。

   目前生成的点阵小字库格式为A51或C51格式，用于其它型号单片机时，应根据单片机汇编语言或C语言的格式，稍作改动。本软件为小字库中的每个汉字定义了唯一的访问常量名，其格式为字母“C”加汉字机内码。C51的数组名或A51的标号均为hzdot,如在生成小字库时指定常量的增量为汉字字节数，则直接定位字库，例如

C51：
char c=hzdot[CD6D0];

A51：
mov dptr,#hzdot
mov a,low CD6D0
add a,dpl
mov dpl,a
mov a,high CD6D0
addc a,dph
mov dph,a
clr a
movc a,@a+dptr

以上C51例子，把“中”字点阵第1字节赋值给c。A51例子取“中”字点阵第一字节放入累加器A中，如未指定常量增量为汉字字节数，则常量增量为1，需计算后定位。

   假如你生成的字库为“TEST.DOT”，在C51中，你可在你的程序开始处用 #include "TEST.DOT" 包含小字库。在A51中则可用 $include(test.dot)伪指令包含小字库，并可放在程序的任何（不能影响其它指令的执行）地方。

    生成小字库后，如你还要在以后继续增删汉字，则请不要用其它文本编辑器修改程序自动生成的字库，否则可能出现HZDotReader不能识别文件格式的情况。


   为方便你使用小字库，本软件提供HZConvert小工具，用于把汉字转化为常量。这样你可以直接在你的源程序中使用汉字作为常量名，如上例中的源程序可写为如下形式：
C51：
char c=hzdot[中];

A51:
mov dptr,#hzdot
mov a,low 中
add a,dpl
mov dpl,a
mov a,high 中
addc a,dph
mov dph,a
clr a
movc a,@a+dptr

  HZConvert对于A51源程序，不转换“;”以后的字符，对于C51源程序，不转换“/*”和“*/”之间的字符和“//”之后的字符。即软件支持A51和C51的标注格式，但你必需在程序中指定你所要转换的源程序的格式。程序默认转换输出文件与输入文件同名，为防止意外出错，建议你修改输出文件名，使之与输入文件名不同。

   本软件为共享软件，对未注册者不能保存大于16点阵的取模结果，没有其它功能限制。注册费为30元，请与作者联系。联系地址：zhusirong2000@yahoo.com.cn、yanzhi@keylab.net。

    在保持本软件完整的条件下，可对本软件进行自由传播，包括放在网络主页上。
